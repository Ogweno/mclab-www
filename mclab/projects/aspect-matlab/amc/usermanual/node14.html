<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Actions</TITLE>
<META NAME="description" CONTENT="Actions">
<META NAME="keywords" CONTENT="usermanual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="usermanual.css">

<LINK REL="next" HREF="node18.html">
<LINK REL="previous" HREF="node7.html">
<LINK REL="up" HREF="node5.html">
<LINK REL="next" HREF="node15.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html233"
  HREF="node15.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html229"
  HREF="node5.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html223"
  HREF="node13.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html231"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html234"
  HREF="node15.html">Context Exposure</A>
<B> Up:</B> <A NAME="tex2html230"
  HREF="node5.html">Language Definition</A>
<B> Previous:</B> <A NAME="tex2html224"
  HREF="node13.html">Compound Patterns</A>
 &nbsp; <B>  <A NAME="tex2html232"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00053000000000000000"></A> <A NAME="sec:actions"></A>
<BR>
Actions
</H2>

<P>
An action is simply a named piece of code which is executed at 
certain points in the source code, matched by the specified patterns. 
An aspect can contain many actions, and as in other aspect-oriented
languages, there are <TT>before</TT>, <TT>around</TT> and <TT>after</TT> actions.

<P>
As shown in Figure&nbsp;<A HREF="#fig:actgrammar">7</A>, an aspect can contain any number of
action blocks, which in turn can host multiple actions inside them. Unlike
AspectJ, actions in AspectMatlab are named. Besides the name, an action 
is linked to a named pattern defined in the patterns block. The type of
an action specifies the weaving point of an action with
respect to the join points against the pattern specified. Just like a
regular M<SMALL>ATLAB</SMALL> function, an action can have input parameters. These
parameters are special context information which is fetched from the
static shadow of each join point matched. Context exposure is described
in detail in Section&nbsp;<A HREF="node15.html#sec:context">2.3.1</A>.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:actgrammar"></A><A NAME="512"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 7:</STRONG>
Syntax of Actions</CAPTION>
<TR><TD><IMG
 WIDTH="467" HEIGHT="233" BORDER="0"
 SRC="img25.png"
 ALT="\begin{figure}\begin{grammar}[(colon){ ::$\Rightarrow$}]
[(semicolon){\\ \hspac...
...}'',$\vert$,''{\tt after}'',$\vert$,''{\tt around}''.
\end{grammar}
\end{figure}"></TD></TR>
</TABLE>
</DIV>

<P>
Simple examples of named <TT>before</TT> and <TT>around</TT> actions, which correspond to the patterns
<TT>pCallFoo</TT> and <TT>pExecutionMain</TT> described in 
Section&nbsp;<A HREF="node8.html#sec:funcpat">2.2.1</A>, are given in Listing <A HREF="#ex:simpleact">10</A>.
The action <TT>aCountCall</TT> will be weaved in just before each 
call to function <TT>foo</TT>. This action simply increments the 
<TT>count</TT> property defined in the properties block of the aspect.
Now if we want to display the total number of calls made at the end
of the program, we can use the <TT>aExecution</TT> action. Assuming the
end of function <TT>main</TT> as the program exit point, <TT>aExecution</TT> action will be weaved in just after the whole function body.

<P>
<TABLE  WIDTH="100%">
<TR><TD>

<BR>
<IMG
 WIDTH="575" HEIGHT="219" ALIGN="BOTTOM" BORDER="0"
 SRC="img26.png"
 ALT="\begin{lstlisting}[language=MATLAB, frame=htbp, caption={Before and After Action...
....getCount();
disp(['total calls: ', num2str(total)]);
end
end
\end{lstlisting}">
<BR></TD></TR>
</TABLE>

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html235"
  HREF="node15.html">Context Exposure</A>
<LI><A NAME="tex2html236"
  HREF="node16.html"><TT>Around</TT> Actions</A>
<LI><A NAME="tex2html237"
  HREF="node17.html">Precedence Order</A>
</UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html233"
  HREF="node15.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html229"
  HREF="node5.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html223"
  HREF="node13.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html231"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html234"
  HREF="node15.html">Context Exposure</A>
<B> Up:</B> <A NAME="tex2html230"
  HREF="node5.html">Language Definition</A>
<B> Previous:</B> <A NAME="tex2html224"
  HREF="node13.html">Compound Patterns</A>
 &nbsp; <B>  <A NAME="tex2html232"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Toheed ASLAM
2010-04-24
</ADDRESS>
</BODY>
</HTML>
