<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Small Example</TITLE>
<META NAME="description" CONTENT="Small Example">
<META NAME="keywords" CONTENT="usermanual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="usermanual.css">

<LINK REL="previous" HREF="node14.html">
<LINK REL="up" HREF="node5.html">
<LINK REL="next" HREF="node19.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html280"
  HREF="node19.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html276"
  HREF="node5.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html272"
  HREF="node17.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html278"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html281"
  HREF="node19.html">Execution</A>
<B> Up:</B> <A NAME="tex2html277"
  HREF="node5.html">Language Definition</A>
<B> Previous:</B> <A NAME="tex2html273"
  HREF="node17.html">Precedence Order</A>
 &nbsp; <B>  <A NAME="tex2html279"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00054000000000000000"></A> <A NAME="sec:callexec"></A>
<BR>
Small Example
</H2>

<P>
In Figure&nbsp;<A HREF="#fig:aspectdef">9</A>, we present an example of an aspect, which 
counts all the function calls made with at least two arguments. To do so,
we need to have a <SPAN CLASS="MATH"><IMG
 WIDTH="32" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img5.png"
 ALT="$call$"></SPAN> pattern to capture all such calls.  The
<SPAN CLASS="MATH"><IMG
 WIDTH="120" HEIGHT="18" ALIGN="BOTTOM" BORDER="0"
 SRC="img11.png"
 ALT="$mainexecution$"></SPAN> pattern is used to display the number of calls made
at the end of the program.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:aspectdef"></A><A NAME="667"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 9:</STRONG>
Aspect to count all calls made with at least 2 arguments</CAPTION>
<TR><TD><IMG
 WIDTH="575" HEIGHT="642" BORDER="0"
 SRC="img36.png"
 ALT="\begin{figure}\begin{lstlisting}[language=MATLAB, frame=htbp]
aspect myAspect
\p...
...str(total)]);
end
end %actions
\par
end %myAspect
\end{lstlisting}
\end{figure}"></TD></TR>
</TABLE>
</DIV>

<P>
To demonstrate the application of the aspect from
Figure&nbsp;<A HREF="#fig:aspectdef">9</A>, consider a small base program consisting of
the simple M<SMALL>ATLAB</SMALL> function given in Figure&nbsp;<A HREF="#fig:histo">10</A>. 

<P>

<DIV ALIGN="CENTER"><A NAME="fig:histo"></A><A NAME="675"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 10:</STRONG>
Simple M<SMALL>ATLAB</SMALL> Function</CAPTION>
<TR><TD><IMG
 WIDTH="575" HEIGHT="241" BORDER="0"
 SRC="img37.png"
 ALT="\begin{figure}\begin{lstlisting}[language=MATLAB, frame=htbp]
function [m, s, d]...
...ics
m = mean(y);
s = std(y);
d = median(y);
end
\end{lstlisting}
\end{figure}"></TD></TR>
</TABLE>
</DIV>

<P>
The function <TT>histo</TT> takes one input argument <TT>n</TT> and returns three values <TT>m,s,d</TT>. Values are returned by declaring variables to
be return parameters in the function header, then assigning these
variables a value. This function first generates some random-sized
vectors, then calls several M<SMALL>ATLAB</SMALL> functions to generate a histogram,
and finally computes some basic statistics.

<P>
Once compiled along with the aspect presented in
Figure&nbsp;<A HREF="#fig:aspectdef">9</A>, pattern <TT>call2args</TT> finds only three
matching join points (at lines 5, 6 and 9) where the function calls
carry two arguments each. So, corresponding action function calls will
be woven only at those program points.  Note that the  function calls
with a single input argument (at lines 11, 12 and 13) do not match.
Moreover, the action <TT>actexecution</TT> is an <SPAN CLASS="MATH"><IMG
 WIDTH="47" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img31.png"
 ALT="$after$"></SPAN> action,
so it will be woven at the end of the function.

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html280"
  HREF="node19.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html276"
  HREF="node5.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html272"
  HREF="node17.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html278"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html281"
  HREF="node19.html">Execution</A>
<B> Up:</B> <A NAME="tex2html277"
  HREF="node5.html">Language Definition</A>
<B> Previous:</B> <A NAME="tex2html273"
  HREF="node17.html">Precedence Order</A>
 &nbsp; <B>  <A NAME="tex2html279"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Toheed ASLAM
2010-04-24
</ADDRESS>
</BODY>
</HTML>
