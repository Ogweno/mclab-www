<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Precedence Order</TITLE>
<META NAME="description" CONTENT="Precedence Order">
<META NAME="keywords" CONTENT="usermanual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="usermanual.css">

<LINK REL="previous" HREF="node16.html">
<LINK REL="up" HREF="node14.html">
<LINK REL="next" HREF="node18.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html270"
  HREF="node18.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html266"
  HREF="node14.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html262"
  HREF="node16.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html268"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html271"
  HREF="node18.html">Small Example</A>
<B> Up:</B> <A NAME="tex2html267"
  HREF="node14.html">Actions</A>
<B> Previous:</B> <A NAME="tex2html263"
  HREF="node16.html">Around Actions</A>
 &nbsp; <B>  <A NAME="tex2html269"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H3><A NAME="SECTION00053300000000000000"></A> <A NAME="sec:order"></A>
<BR>
Precedence Order
</H3>

<P>
As shown in Figure&nbsp;<A HREF="#fig:order">8</A>, since multiple actions can be triggered at
the same join point and if more than one such actions are of the same type,
we need default precedence rules for the actions:

<P>

<UL>
<LI><SPAN CLASS="MATH"><IMG
 WIDTH="55" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img30.png"
 ALT="$before$"></SPAN> actions are woven just before the join
point. In case of multiple <SPAN CLASS="MATH"><IMG
 WIDTH="55" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img30.png"
 ALT="$before$"></SPAN> actions, the order of the
woven advice follows the exact order in which the actions were defined in source code.

<P>
</LI>
<LI>Next, <SPAN CLASS="MATH"><IMG
 WIDTH="47" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img31.png"
 ALT="$after$"></SPAN> actions are woven just after the
join point.  In the case of multiple <SPAN CLASS="MATH"><IMG
 WIDTH="47" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img31.png"
 ALT="$after$"></SPAN> actions, the order
of the woven advice follows the exact order in which the actions were
defined in the source code.

<P>
</LI>
<LI>Last, multiple <SPAN CLASS="MATH"><IMG
 WIDTH="60" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img32.png"
 ALT="$around$"></SPAN> actions
are woven around the join point in the exact order in which actions are
defined in source code. So the outer-most of the <SPAN CLASS="MATH"><IMG
 WIDTH="60" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img32.png"
 ALT="$around$"></SPAN> actions
will be the one appearing first in the woven code and it will go around
the next <SPAN CLASS="MATH"><IMG
 WIDTH="60" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img32.png"
 ALT="$around$"></SPAN> action encountered, or the actual join point if
there are no more <SPAN CLASS="MATH"><IMG
 WIDTH="60" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img32.png"
 ALT="$around$"></SPAN> actions.

<P>
</LI>
</UL>

<P>
In Figure&nbsp;<A HREF="#fig:actlist">8a</A>, multiple actions are targeting a single 
<SPAN CLASS="MATH"><IMG
 WIDTH="32" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img5.png"
 ALT="$call$"></SPAN> join point. The weaving points for a join point in the
source code are shown in Figure&nbsp;<A HREF="#fig:actweaved">8b</A>. All the <SPAN CLASS="MATH"><IMG
 WIDTH="55" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img30.png"
 ALT="$before$"></SPAN>
actions are woven just before the join point in order they are specified.
All the <SPAN CLASS="MATH"><IMG
 WIDTH="47" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img31.png"
 ALT="$after$"></SPAN> actions are woven just after the join point.
The call to <TT>foo</TT> is replaced by the call to the first
<SPAN CLASS="MATH"><IMG
 WIDTH="60" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img32.png"
 ALT="$around$"></SPAN> action, which in turn can call the second <SPAN CLASS="MATH"><IMG
 WIDTH="60" HEIGHT="15" ALIGN="BOTTOM" BORDER="0"
 SRC="img32.png"
 ALT="$around$"></SPAN>
action through its <SPAN CLASS="MATH"><IMG
 WIDTH="63" HEIGHT="34" ALIGN="MIDDLE" BORDER="0"
 SRC="img33.png"
 ALT="$proceed$"></SPAN> function, and so on.

<P>

<DIV ALIGN="CENTER"><A NAME="fig:actlist"></A><A NAME="fig:actweaved"></A><A NAME="fig:order"></A><A NAME="657"></A>
<TABLE>
<CAPTION ALIGN="BOTTOM"><STRONG>Figure 8:</STRONG>
Actions Precedence Order</CAPTION>
<TR><TD>
<DIV ALIGN="CENTER">

</DIV>  [Actions List]<IMG
 WIDTH="166" HEIGHT="278" ALIGN="BOTTOM" BORDER="0"
 SRC="img34.png"
 ALT="\includegraphics[width=0.3\textwidth]{images/actions.eps}"> 
   
  [Weaving Order]<IMG
 WIDTH="276" HEIGHT="322" ALIGN="BOTTOM" BORDER="0"
 SRC="img35.png"
 ALT="\includegraphics[width=0.5\textwidth]{images/weaved.eps}"></TD></TR>
</TABLE>
</DIV>

<P>
An important point to notice here is that the default ordering rules
of AspectMatlab are simpler and more restrictive than the precedence rules of
AspectJ&nbsp;[<A
 HREF="node21.html#kiczales01">1</A>].  However, our action weaving strategy avoids
complicated dependency rules, will not lead to any 
dependency cycles between actions, and is easy to
comprehend from a scientific programmer's point of view.    Since our
actions have names, it would also be simple for us to introduce a declaration
to over-ride the default ordering within each of the around, before and
after groups.

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html270"
  HREF="node18.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html266"
  HREF="node14.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html262"
  HREF="node16.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html268"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html271"
  HREF="node18.html">Small Example</A>
<B> Up:</B> <A NAME="tex2html267"
  HREF="node14.html">Actions</A>
<B> Previous:</B> <A NAME="tex2html263"
  HREF="node16.html">Around Actions</A>
 &nbsp; <B>  <A NAME="tex2html269"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Toheed ASLAM
2010-04-24
</ADDRESS>
</BODY>
</HTML>
